<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Promise2</title>
  </head>
  <body>
    <div id="info"></div>
  </body>
  <script>
    function func(msec) {
      return new Promise((resolve, reject) => {
        setTimeout(function () {
          resolve(Math.random() * msec);
        }, msec);
      });
    }

    function doSomething() {
      console.log("1");
      const ar = [];
      func(600)
        .then((r) => {
          console.log("2");
          ar.push(r);
          return func(700);
        })
        .then((r) => {
          ar.push(r);
          return func(800);
        })
        .then((r) => {
          ar.push(r);
          //info.innerHTML += JSON.stringify(ar);
          return ar;
        });
      console.log("3");
    }

    const br = doSomething();
    console.log("br:", br);
  </script>
</html>
